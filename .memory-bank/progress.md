# üìä Progress Log ‚Äî Pand-AI-Helper Frontend

---

## [2026-01-26] Memory Bank Setup

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –°–æ–∑–¥–∞–Ω Memory Bank
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Backend AI

### –§–∞–π–ª—ã:
- `.cursor/rules/memory.mdc`
- `.cursor/rules/frontend.mdc`
- `.cursor/rules/sync.mdc`
- `.memory-bank/*`

---

## [2026-01-26] Documents Multi-Select

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –ò–∑–º–µ–Ω—ë–Ω `pickImageLauncher` —Å `GetContent()` –Ω–∞ `GetMultipleContents()`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `uploadDocuments(uris: List<Uri>)` –≤ DocumentsViewModel
- –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ç–æ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏

### –§–∞–π–ª—ã:
- `DocumentsScreen.kt`
- `DocumentsViewModel.kt`

---

## [2026-01-26] Feyberry Design

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –ü–æ–ª–Ω—ã–π —Ä–µ–¥–∏–∑–∞–π–Ω LoginScreen –∏ RegisterScreen
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —è–≥–æ–¥–∞ (metaball lava lamp style)
- Glassmorphism —Å—Ç–∏–ª—å
- –†—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- Portrait-only –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è

### –§–∞–π–ª—ã:
- `LoginScreen.kt`
- `RegisterScreen.kt`
- `AndroidManifest.xml`

---

## [2026-01-26] Chat Session Fixes

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã —Å–µ—Å—Å–∏–π
- –£–±—Ä–∞–Ω—ã "–¥—ë—Ä–≥–∞–Ω–∏—è" –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ —Å—Ç—Ä–∏–º–∏–Ω–≥–µ
- TokenAuthenticator –¥–ª—è SSE –∑–∞–ø—Ä–æ—Å–æ–≤

### –§–∞–π–ª—ã:
- `ChatViewModel.kt`
- `ChatScreen.kt`
- `ChatRepository.kt`

---

## [2026-01-29] Image Generation & Streaming Fixes

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚Äî `setHeader` –≤–º–µ—Å—Ç–æ `addHeader` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Coil
- ‚úÖ **–ü–ª–∞–≤–Ω—ã–π —Å—Ç—Ä–∏–º–∏–Ω–≥** ‚Äî —Å–∏–º–≤–æ–ª—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ, –±–µ–∑ —Ä—ã–≤–∫–æ–≤
- ‚úÖ **–ê–Ω–∏–º–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ä–∞–∑—É** ‚Äî –¥–µ—Ç–µ–∫—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º ("—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π", "–Ω–∞—Ä–∏—Å—É–π")
- ‚úÖ **–ö–∞—Ä—Ç–∏–Ω–∫–∏ –±–µ–∑ –ø–æ–¥–ª–æ–∂–∫–∏** ‚Äî —É–±—Ä–∞–Ω bubble-—Ñ–æ–Ω, —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏
- ‚úÖ **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤ –≥–∞–ª–µ—Ä–µ—é** ‚Äî —Ç–∞–ø –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É ‚Üí –∫–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Pictures

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```kotlin
// –î–µ—Ç–µ–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (ChatScreen.kt)
val isImageRequest = lastUserMsg.contains("—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π") || 
                     lastUserMsg.contains("–Ω–∞—Ä–∏—Å—É–π") || ...

// –°–∫–∞—á–∏–≤–∞–Ω–∏–µ (ChatBubbleV2.kt)
DownloadManager.Request(uri)
    .setMimeType("image/png")  // –í–∞–∂–Ω–æ –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏!
    .setDestinationInExternalPublicDir(DIRECTORY_PICTURES, fileName)
```

### –§–∞–π–ª—ã:
- `ChatScreen.kt` ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ä–∞–∑—É
- `ChatBubbleV2.kt` ‚Äî –∫–∞—Ä—Ç–∏–Ω–∫–∏ –±–µ–∑ —Ñ–æ–Ω–∞, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
- `ChatViewModel.kt` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- `DocumentsScreen.kt` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä

---

## [TODO] Image-to-Image & Session Attachments

### Backend –≥–æ—Ç–æ–≤, –Ω—É–∂–Ω–æ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ:
1. **Image-to-Image** ‚Äî –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é + `images: [base64]`
2. **Session Attachments** ‚Äî –ø–∞–Ω–µ–ª—å –≤–ª–æ–∂–µ–Ω–∏–π —Å–µ—Å—Å–∏–∏, drag & drop
